<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Let It Snow Playground</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body class="theme-dark">
  <div class="background-layer"></div>
  <main class="shell">
    <header class="hero">
      <div>
        <p class="eyebrow">Let It Snow</p>
        <h1>Playground</h1>
        <p class="lede">Test the snow animation with hot reload. Tweak parameters and see changes instantly — no extension installation needed.</p>
      </div>
      <div class="hero-actions">
        <button id="start-btn" class="btn primary">Start snow</button>
        <button id="stop-btn" class="btn ghost">Stop snow</button>
        <span id="status" class="status status-ready">Ready — hot reload enabled</span>
      </div>
    </header>

    <section class="panel">
      <div class="panel-header">
        <h2>Scene</h2>
        <div class="segmented" role="group" aria-label="Theme toggle">
          <button id="light-btn" class="segmented-btn">Light</button>
          <button id="dark-btn" class="segmented-btn active">Dark</button>
        </div>
      </div>
      <p class="hint">Switch background to see glow logic react to contrast.</p>
    </section>

    <section class="panel">
      <div class="panel-header">
        <h2>Snow settings</h2>
        <div class="segmented" role="group" aria-label="Snow controls">
          <button id="reset-btn" class="btn ghost small">Reset defaults</button>
          <button id="debug-btn" class="btn ghost small" title="Show collision debug info in console">Debug</button>
        </div>
      </div>
      <div class="grid">
        <label class="field">
          <span>Count</span>
          <input id="snowmax" type="number" min="1" max="400" value="120" />
          <small>How many flakes are spawned.</small>
        </label>
        <label class="field">
          <span>Fall speed</span>
          <input id="sinkspeed" type="number" step="0.05" min="0.05" max="2" value="1.0" />
          <small>Higher = faster descent.</small>
        </label>
        <label class="field">
          <span>Min size</span>
          <input id="snowminsize" type="number" min="6" max="80" value="18" />
          <small>Smallest glyph size.</small>
        </label>
        <label class="field">
          <span>Max size</span>
          <input id="snowmaxsize" type="number" min="10" max="120" value="48" />
          <small>Largest glyph size.</small>
        </label>
        <label class="field list-field">
          <span>Colors</span>
          <div id="colors-list" class="pill-list"></div>
          <div class="inline-inputs">
            <input id="color-text" type="text" placeholder="#ffffff or rgba(...)" />
            <input id="color-picker" type="color" value="#ffffff" aria-label="Pick color" />
            <button id="add-color" class="btn small" type="button">Add</button>
          </div>
          <small>Use CSS colors; first color should suit your background.</small>
        </label>
        <label class="field list-field">
          <span>Symbols</span>
          <div id="symbols-list" class="pill-list"></div>
          <div class="inline-inputs">
            <input id="symbol-input" type="text" placeholder="❄" maxlength="900" />
            <button id="add-symbol" class="btn small" type="button">Add</button>
          </div>
          <small>Characters used for snow.</small>
        </label>
        <label class="field list-field">
          <span>Sentences</span>
          <div id="sentences-list" class="pill-list"></div>
          <div class="inline-inputs">
            <input id="sentence-input" type="text" placeholder="Happy New Year!" maxlength="900" />
            <button id="add-sentence" class="btn small" type="button">Add</button>
          </div>
          <small>Text phrases to display instead of symbols. Overrides symbols when set.</small>
        </label>
        <label class="field">
          <span>Sentence count</span>
          <input id="sentenceCount" type="number" min="0" max="80" value="0" />
          <small>How many text flakes to spawn (from sentences list).</small>
        </label>
        <label class="field">
          <span>GIF URLs</span>
          <textarea id="gifs" rows="3" placeholder="https://media.giphy.com/...\nhttps://...gif"></textarea>
          <small>Optional animated flakes; CSP-safe object URLs are created.</small>
        </label>
        <label class="field">
          <span>GIF count</span>
          <input id="gifCount" type="number" min="0" max="200" value="0" />
          <small>How many GIF flakes to spawn.</small>
        </label>
        <label class="field">
          <span>Mouse radius</span>
          <input id="mouseRadius" type="number" min="50" max="250" value="100" />
          <small>Interaction radius in pixels.</small>
        </label>
      </div>
    </section>

    <section class="panel">
      <div class="panel-header">
        <h2>Wind</h2>
      </div>
      <div class="grid">
        <label class="field">
          <input id="windEnabled" type="checkbox" />
          <span>Enable wind</span>
          <small>Apply wind force to snow flakes.</small>
        </label>
        <label class="field">
          <span>Direction</span>
          <div class="segmented" role="group" aria-label="Wind direction">
            <button id="wind-left" class="segmented-btn active">Left</button>
            <button id="wind-right" class="segmented-btn">Right</button>
            <button id="wind-random" class="segmented-btn">Random</button>
          </div>
          <small>Direction of wind force.</small>
        </label>
        <label class="field">
          <span>Strength</span>
          <input id="windStrength" type="number" step="0.1" min="0" max="5" value="0.5" />
          <small>Force magnitude (0-5).</small>
        </label>
        <label class="field">
          <span>Gust frequency</span>
          <input id="windGustFrequency" type="number" step="0.5" min="0.5" max="10" value="3" />
          <small>Time in seconds between wind changes.</small>
        </label>
      </div>
    </section>
  </main>

  <script type="module" src="main.js"></script>
</body>
</html>
